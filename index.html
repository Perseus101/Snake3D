<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Prog 5: Snake!</title>

        <script type="text/javascript" src="gl-matrix-min.js"></script>
        <script type="text/javascript" src="jscolor.min.js"></script>
        <script type="text/javascript" src="rasterize.js"></script>
        <script type="text/javascript" src="controls.js"></script>

        <audio id="myAudio" controls autoplay class="hidden">
            <source src="https://archive.org/download/LifeOnMars_934/31LifeOnMars.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <script>
        var x = document.getElementById("myAudio");
        x.loop = true;
        x.volume = 1.0;
        x.load();
        </script>
        <style>
            #myWebGLCanvas {
                position: absolute;
                left: 0px;
                top: 0px;
                z-index: 10;
            }

            #myImageCanvas {
                position: absolute;
                left: 0px;
                top: 0px;
                z-index: 0;
            }

            .hidden {
                display: none;
            }

            .menu {
                font-family: Arial, Helvetica, sans-serif;
                position: absolute;
                left: 0px;
                top: 0px;
                width: 100%;
                height: 100%;
                z-index: 11;
                text-align: center;
            }

            .menu > div {
                padding-top: 20%;
            }

            #optionsMenu table {
                margin-left: auto;
                margin-right: auto;
            }
        </style>
    </head>

    <body onload="setup();" onkeydown="keydown(event);">
        <canvas id="myImageCanvas"></canvas>
        <canvas id="myWebGLCanvas"></canvas>

        <!--------------------------------- MENUS --------------------------------->
        <div id="mainMenu" class="menu">
            <div>
                <h1>Snake 3D!</h1>
                <button onclick="main();">Start</button>
                <button onclick='showMenu("optionsMenu");'>Options</button>
            </div>
        </div>
        <div id="optionsMenu" class="menu hidden">
            <div>
                <h1>Snake 3D Options</h1>
                <table>
                    <tr>
                        <td><input type="checkbox" name="invertY" onchange="updateInvertY(this);"/></td>
                        <td>Invert Y</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="musicEnabled" onchange="updateMusicEnabled(this);" checked /></td>
                        <td>Music Enabled</td>
                    </tr>
                </table>
                <br/>
                <label for="snakeColor">Snake Color</label>
                <input name="snakeColor" class="jscolor" value="01FF01"/>
                <br/><br/><button onclick='showMenu("mainMenu");'>Back</button>
            </div>
        </div>
        <div id="deathScreen" class="hidden menu">
            <div>
                <h1>You have died.</h1>
                <h3>Tip: Try to avoid colliding with youself.</h3>
                <button onclick='reset();'>Restart</button>
                <button onclick='showMenu("mainMenu");'>Menu</button>
                <p>(Or press spacebar)</p>
            </div>
        </div>
    </body>
</html>
